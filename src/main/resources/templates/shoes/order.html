<!DOCTYPE html>
<html lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/base.html}">
<head>
    <title>주문 페이지</title>
</head>


<body>
<div layout:fragment="content">
    <section class="order-section">
        <h2>주문 페이지</h2>
        <table class="order-table">
            <thead>
            <tr>
                <th>상품 이미지</th>
                <th>상품 이름</th>
                <th>가격</th>
                <th>수량</th>
                <th>총 금액</th>
                <th>삭제</th>
            </tr>

            </thead>
            <tbody>
            <!-- 데이터베이스에서 가져온 주문 상품 목록 반복 처리 -->

            <tr th:each="item : ${orderItems}">
                <td><img th:src="@{/images/shoesimg1.PNG}" alt="상품 이미지"></td>
                <td th:text="${item.item.itemName}">상품 이름</td>
                <td th:text="${item.item.itemPrice}">₩ 가격</td>
                <td><input type="number" value="${item.quantity}" min="1"></td>
                <td th:text="${item.item.itemPrice * item.quantity}">₩ 총 금액</td>
                <td><button onclick="deleteItem(${item.item.itemId})">삭제</button></td>
            </tr>

            </tbody>
        </table>
        <div class="total-price">
            <h3 th:if="${orderItems == null}">
                주문할 상품이 없습니다.
            </h3>
            <h2 class="text-center">
                총 주문 금액 : <span id="orderTotalPrice" class="text-danger">0원</span>
            </h2>
            <div class="text-center mt-3">
                <button type="button" class="btn btn-primary btn-lg" onclick="placeOrder()">주문하기</button>
            </div>
        </div>
    </section>
</div>

<script th:inline="javascript">
    function placeOrder() {
        // 주문하기 버튼 클릭 시 동작할 JavaScript 함수
        // 여기에 주문 처리 로직을 구현하세요
        console.log("주문하기 버튼이 클릭되었습니다.");
        // 추가적으로 필요한 로직을 구현하세요
    }

    function deleteItem(itemId) {
        // 삭제 버튼 클릭 시 동작할 JavaScript 함수
        // itemId를 이용해 삭제할 상품을 식별하고 삭제 처리를 구현하세요
        console.log("상품 삭제 버튼이 클릭되었습니다. 상품 ID: " + itemId);
        // 추가적으로 필요한 로직을 구현하세요
    }
</script>

</body>
</html>
